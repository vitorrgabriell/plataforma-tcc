# Infraestrutura do Projeto

Esta pasta contÃ©m todos os arquivos e configuraÃ§Ãµes necessÃ¡rios para configurar e orquestrar a infraestrutura do projeto **Plataforma de Agendamento de ServiÃ§os**.

## Estrutura da Pasta
```
/infra
â”œâ”€â”€ docker/                # ConfiguraÃ§Ãµes relacionadas ao Docker
â”‚   â”œâ”€â”€ docker-compose.yml # OrquestraÃ§Ã£o dos serviÃ§os
â”‚   â”œâ”€â”€ Dockerfile.backend # ConfiguraÃ§Ã£o da imagem Docker do backend
â”‚   â”œâ”€â”€ Dockerfile.frontend # ConfiguraÃ§Ã£o da imagem Docker do frontend
â”œâ”€â”€ aws/                   # ConfiguraÃ§Ãµes para deploy na AWS
â”‚   â”œâ”€â”€ amplify/           # ConfiguraÃ§Ãµes para o AWS Amplify (Frontend)
â”‚   â”œâ”€â”€ ecs/               # ConfiguraÃ§Ãµes para rodar o backend no AWS ECS
â”‚   â”œâ”€â”€ rds/               # ConfiguraÃ§Ãµes do banco de dados no AWS RDS
â”œâ”€â”€ scripts/               # Scripts auxiliares para automaÃ§Ã£o
â”‚   â”œâ”€â”€ build.sh           # Script para build local
â”‚   â”œâ”€â”€ deploy.sh          # Script para deploy
â””â”€â”€ README.md              # DocumentaÃ§Ã£o da pasta infra
```

---

## ConfiguraÃ§Ã£o do Docker

### `docker-compose.yml`
Este arquivo orquestra os serviÃ§os necessÃ¡rios para o projeto:
- **Backend**: API Python usando FastAPI
- **Frontend**: Interface em Next.js.
- **PostgreSQL**: Banco de dados relacional.
- **MongoDB**: Banco de dados nÃ£o relacional para logs e notificaÃ§Ãµes.

### Comandos BÃ¡sicos
- **Iniciar os serviÃ§os:**
  ```bash
  docker-compose up -d
  ```
- **Parar os serviÃ§os:**
  ```bash
  docker-compose down
  ```
- **Recriar os serviÃ§os:**
  ```bash
  docker-compose up --build -d
  ```

---

## AWS

### `amplify/`
ConfiguraÃ§Ãµes para deploy do frontend utilizando o AWS Amplify.

### `ecs/`
Arquivos necessÃ¡rios para rodar o backend no **AWS ECS (Elastic Container Service)**.
- **`task-definition.json`**: DefiniÃ§Ãµes das tasks do ECS.
- **`cluster-config.json`**: ConfiguraÃ§Ãµes do cluster ECS.

### `rds/`
ParÃ¢metros de configuraÃ§Ã£o para o banco de dados relacional (PostgreSQL) no **AWS RDS**.

---

## Scripts Auxiliares

### `build.sh`
Script para fazer build localmente:
```bash
#!/bin/bash
docker-compose down
docker-compose build
docker-compose up -d
```

### `deploy.sh`
Script para deploy em produÃ§Ã£o:
```bash
#!/bin/bash
echo "Iniciando o deploy..."
docker-compose down
docker-compose up -d
```

---

## Notas Adicionais
- Certifique-se de configurar as variÃ¡veis de ambiente no **docker-compose.yml** antes de rodar os serviÃ§os.
- Verifique a documentaÃ§Ã£o individual em cada subpasta para detalhes especÃ­ficos de cada serviÃ§o.

---

Para dÃºvidas ou suporte, consulte a documentaÃ§Ã£o principal do projeto. ðŸš€
